<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Sonic Jumper</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
        body {
            background: brown;
        }

        header {
            color: white;
            text-align: center;
            font-size: 20px;
        }
		.__container {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
		}
		#sonic {
            /* background-color: blue; */
            /* width: 800px; */
            /* height: 400px; */
		}
	</style>
</head>
<header>
    <h1>Sonic Jumper</h1>
</header>
<body>
	<div class="__container">
		<canvas id="sonic" style="width: 800px; height:400px;">
        </canvas>
	</div>
	<script>
		var canvas;
		canvas = document.getElementById("sonic");
		canvas.style.width = '800px';
		canvas.style.background = 'red';
        canvas.style.height = '400px';
        var x = 150;
        var y = 20;
        var ctx = canvas.getContext("2d");
        ctx.beginPath();
        ctx.rect(x, y, 10, 10);
        ctx.fillStyle = "green";
        ctx.fill();
        ctx.closePath();
        // document.addEventListener("keyup", controls);
        // document.addEventListener("keydown", controls);
        document.addEventListener("keypress", controls);

        function controls(event) {
        if (event.key == 'a') {
            deplgauche(); }
        if (event.key == 'w') {
            deplhaut(); }
        if (event.key == 'd') {
            depldroite(); }
        if (event.key == 's') {
            deplbas(); }
        }
        function depldroite() {
            if (x <= 280)
            {
                ctx.clearRect(x, y, 10, 10);
                x += 10;
                y += 0;
                afficher();
            }
            else
            {
                ctx.clearRect(x, y, 10, 10);
                x = 0;
                y += 0;
                afficher();
            }
        }
        function deplhaut() {
            if (y > 0)
            {
                ctx.clearRect(x, y, 10, 10);
                x += 0;
                y -= 10;
                afficher();
            } 
        }
        function deplbas() {
            if (y <= 130)
            {
                ctx.clearRect(x, y, 10, 10);
                x += 0;
                y += 10;
                afficher();
            }
        }
        function deplgauche() {
            if (x > 0)
            {
                ctx.clearRect(x, y, 10, 10);
                x -= 10;
                y += 0;
                afficher();
            }
            else
            {
                ctx.clearRect(x, y, 10, 10);
                x = 290;
                y += 0;
                afficher();
            }
        }
        function afficher() {
            ctx.beginPath();
            ctx.rect(x, y, 10, 10);
            ctx.fillStyle = "green";
            ctx.fill();
            ctx.closePath();
		}
	</script>
</body>

<script src="script.js"></script>

</html>